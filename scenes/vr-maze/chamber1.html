<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Single VR Chamber (2.5 × 2.5 × 2.0)</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <style> body { margin: 0; } </style>
  </head>
  <body>
    <a-scene background="color: #111">
      <!-- Preload the four wall images -->
      <a-assets>
        <!-- Put these files in ./pictures/ -->
        <img id="img-north" src="pictures/north.jpg" crossorigin="anonymous" />
        <img id="img-south" src="pictures/south.jpg" crossorigin="anonymous" />
        <img id="img-east"  src="pictures/east.jpg"  crossorigin="anonymous" />
        <img id="img-west"  src="pictures/west.jpg"  crossorigin="anonymous" />
      </a-assets>

      <!-- Simple lighting -->
      <a-entity light="type: ambient; intensity: 0.7"></a-entity>
      <a-entity light="type: directional; intensity: 0.6" position="1 3 2"></a-entity>

      <!-- Add controller entities -->
      <a-entity id="leftHand"  laser-controls="hand: left"></a-entity>
      <a-entity id="rightHand" laser-controls="hand: right"></a-entity>

      <!-- Player camera (inside the chamber) -->
      <a-entity position="0 0 0">
        <a-camera wasd-controls look-controls></a-camera>
      </a-entity>

      <!-- Floor (2.5 x 2.5) -->
      <a-plane rotation="-90 0 0" position="0 0 0" width="2.5" height="2.5" color="#2b2b2b"></a-plane>

      <!-- Optional ceiling (uncomment if you want it closed) -->
      <a-plane rotation="90 0 0" position="0 2.0 0" width="2.5" height="2.5" color="#2b2b2b"></a-plane>

      <!-- WALLS (as planes with images), chamber centered at (0, 0, 0)
           Room size: 2.5 (width) x 2.5 (length), height: 2.0
           Walls are 2.5m wide, 2.0m tall, placed at ±1.25m from center. -->

      <!-- NORTH wall: at z = +1.24, face inward (rotate 180° around Y) -->
      <a-plane position="0 1.0 1.24" rotation="0 180 0" width="2.5" height="2.0"
               material="src: #img-north; side: front"></a-plane>

      <!-- SOUTH wall: at z = -1.24, default faces -z (into room), no rotation -->
      <a-plane position="0 1.0 -1.24" rotation="0 0 0" width="2.5" height="2.0"
               material="src: #img-south; side: front"></a-plane>

      <!-- EAST wall: at x = +1.24, face inward (rotate -90° around Y so normal points -x) -->
      <a-plane position="1.24 1.0 0" rotation="0 -90 0" width="2.5" height="2.0"
               material="src: #img-east; side: front"></a-plane>

      <!-- WEST wall: at x = -1.24, face inward (rotate +90° around Y so normal points +x) -->
      <a-plane position="-1.24 1.0 0" rotation="0 90 0" width="2.5" height="2.0"
               material="src: #img-west; side: front"></a-plane>

      <script>
        // LEFT controller
        const left = document.getElementById('leftHand');
        left.addEventListener('triggerdown',  () => console.log('Left trigger pressed'));
        left.addEventListener('triggerup',    () => console.log('Left trigger released'));
        left.addEventListener('gripdown',     () => console.log('Left grip pressed'));
        left.addEventListener('gripup',       () => console.log('Left grip released'));

      // RIGHT controller
        const right = document.getElementById('rightHand');
        right.addEventListener('triggerdown', () => console.log('Right trigger pressed'));
        right.addEventListener('triggerup',   () => console.log('Right trigger released'));
        right.addEventListener('gripdown',    () => console.log('Right grip pressed'));
        right.addEventListener('gripup',      () => console.log('Right grip released'));
      </script>
      
      <script>
          ['north','south','east','west'].forEach(dir=>{
            const img = document.getElementById('img-'+dir);
            img.addEventListener('load', ()=>console.log(dir,'loaded', img.naturalWidth+'x'+img.naturalHeight));
            img.addEventListener('error', ()=>console.warn(dir,'FAILED to load:', img.src));
          });
      </script>
    </a-scene>
  </body>
</html>

